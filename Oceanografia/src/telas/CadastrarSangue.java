/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * CadastrarSangue.java
 *
 * Created on 14/02/2011, 18:44:34
 */

package telas;

import banco.BD_Sangue;
import objetos.Animal;
import objetos.Kernel;
import objetos.Sangue;

/**
 *
 * @author vagner
 */
public class CadastrarSangue extends javax.swing.JPanel {

    private Kernel          kernel;         
    private Sangue          obj_Sangue;         
    private Animal          obj_Animal;         
    private BD_Sangue       bd_Sangue;    
    private int             acao;
    private Object          objeto;
    
    
    /** Creates new form CadastrarAnimais */
    public CadastrarSangue(Kernel obj,int acao,Object texto) {
        kernel = obj;
        this.acao = acao;
        this.objeto = texto;
        initComponents();                       
        
        PreencherCampos(objeto);
    }

    
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel17 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        campo_htmc = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        campo_rbc = new javax.swing.JTextField();
        campo_leuco = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        campo_vcm = new javax.swing.JTextField();
        campo_cetonas = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        campo_hmc = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        campo_hmg = new javax.swing.JTextField();
        cadastro = new javax.swing.JLabel();
        painel_cadastrar_area3 = new javax.swing.JPanel();
        botao_salvar = new javax.swing.JButton();
        botao_voltar = new javax.swing.JButton();
        sangue_id = new javax.swing.JLabel();
        animal_id = new javax.swing.JLabel();
        jPanel1 = new javax.swing.JPanel();
        botao_bioquimico = new javax.swing.JButton();
        botao_contaminantes = new javax.swing.JButton();
        botao_isotopos = new javax.swing.JButton();

        setBackground(new java.awt.Color(204, 204, 204));

        jPanel17.setBackground(new java.awt.Color(204, 204, 204));
        jPanel17.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Propriedades"));

        jLabel1.setText("HMTC(%):");

        jLabel2.setText("RBC(%):");

        jLabel3.setText("LEUCO(%):");

        jLabel4.setText("VCM(%):");

        jLabel5.setText("CETONAS(%):");

        jLabel6.setText("HMC(%):");

        jLabel7.setText("HMG(%):");

        cadastro.setForeground(new java.awt.Color(255, 0, 0));
        cadastro.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        cadastro.setText(" ");

        org.jdesktop.layout.GroupLayout jPanel17Layout = new org.jdesktop.layout.GroupLayout(jPanel17);
        jPanel17.setLayout(jPanel17Layout);
        jPanel17Layout.setHorizontalGroup(
            jPanel17Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel17Layout.createSequentialGroup()
                .addContainerGap()
                .add(jPanel17Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
                    .add(jLabel2)
                    .add(jLabel1)
                    .add(jLabel4)
                    .add(jLabel3))
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(jPanel17Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(campo_htmc, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 47, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(campo_rbc, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 47, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(campo_vcm, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 47, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(campo_leuco, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 47, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)
                .add(jPanel17Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
                    .add(jLabel6)
                    .add(jLabel7)
                    .add(jLabel5))
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(jPanel17Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(campo_hmg, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 47, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(campo_hmc, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 47, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(campo_cetonas, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 47, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(64, Short.MAX_VALUE))
            .add(org.jdesktop.layout.GroupLayout.TRAILING, cadastro, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 312, Short.MAX_VALUE)
        );
        jPanel17Layout.setVerticalGroup(
            jPanel17Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel17Layout.createSequentialGroup()
                .add(cadastro)
                .add(4, 4, 4)
                .add(jPanel17Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanel17Layout.createSequentialGroup()
                        .add(jPanel17Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                            .add(campo_hmg, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jLabel7))
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(jPanel17Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                            .add(campo_hmc, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jLabel6))
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(jPanel17Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                            .add(campo_cetonas, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jLabel5)))
                    .add(jPanel17Layout.createSequentialGroup()
                        .add(jPanel17Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                            .add(campo_htmc, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jLabel1))
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(jPanel17Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                            .add(campo_rbc, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jLabel2))
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(jPanel17Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                            .add(campo_vcm, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jLabel4))
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(jPanel17Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                            .add(campo_leuco, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jLabel3))))
                .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        painel_cadastrar_area3.setBackground(new java.awt.Color(204, 204, 204));
        painel_cadastrar_area3.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        botao_salvar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icones/salvar.png"))); // NOI18N
        botao_salvar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                botao_salvarActionPerformed(evt);
            }
        });

        botao_voltar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icones/back.png"))); // NOI18N
        botao_voltar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                botao_voltarActionPerformed(evt);
            }
        });

        sangue_id.setForeground(new java.awt.Color(204, 204, 204));
        sangue_id.setText("0");

        animal_id.setForeground(new java.awt.Color(204, 204, 204));
        animal_id.setText("0");

        org.jdesktop.layout.GroupLayout painel_cadastrar_area3Layout = new org.jdesktop.layout.GroupLayout(painel_cadastrar_area3);
        painel_cadastrar_area3.setLayout(painel_cadastrar_area3Layout);
        painel_cadastrar_area3Layout.setHorizontalGroup(
            painel_cadastrar_area3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(painel_cadastrar_area3Layout.createSequentialGroup()
                .add(botao_salvar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 52, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(botao_voltar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 54, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .add(68, 68, 68)
                .add(animal_id)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(sangue_id)
                .addContainerGap(261, Short.MAX_VALUE))
        );
        painel_cadastrar_area3Layout.setVerticalGroup(
            painel_cadastrar_area3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(org.jdesktop.layout.GroupLayout.TRAILING, painel_cadastrar_area3Layout.createSequentialGroup()
                .addContainerGap(45, Short.MAX_VALUE)
                .add(painel_cadastrar_area3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(sangue_id)
                    .add(animal_id))
                .addContainerGap())
            .add(painel_cadastrar_area3Layout.createSequentialGroup()
                .add(botao_salvar)
                .addContainerGap())
            .add(painel_cadastrar_area3Layout.createSequentialGroup()
                .add(botao_voltar)
                .addContainerGap())
        );

        jPanel1.setBackground(new java.awt.Color(204, 204, 204));
        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        botao_bioquimico.setText("Bioquimico");

        botao_contaminantes.setText("Contaminantes");

        botao_isotopos.setText("Isotopos");

        org.jdesktop.layout.GroupLayout jPanel1Layout = new org.jdesktop.layout.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel1Layout.createSequentialGroup()
                .add(12, 12, 12)
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(org.jdesktop.layout.GroupLayout.TRAILING, botao_bioquimico, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 107, Short.MAX_VALUE)
                    .add(org.jdesktop.layout.GroupLayout.TRAILING, botao_contaminantes, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 107, Short.MAX_VALUE))
                .addContainerGap())
            .add(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .add(botao_isotopos, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 107, Short.MAX_VALUE)
                .add(12, 12, 12))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel1Layout.createSequentialGroup()
                .add(botao_bioquimico)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .add(botao_contaminantes)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(botao_isotopos)
                .add(12, 12, 12))
        );

        org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(layout.createSequentialGroup()
                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING, false)
                    .add(org.jdesktop.layout.GroupLayout.LEADING, painel_cadastrar_area3, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .add(org.jdesktop.layout.GroupLayout.LEADING, layout.createSequentialGroup()
                        .add(jPanel17, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(jPanel1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(layout.createSequentialGroup()
                .add(painel_cadastrar_area3, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 67, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanel17, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(layout.createSequentialGroup()
                        .add(8, 8, 8)
                        .add(jPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
    }// </editor-fold>//GEN-END:initComponents

    private void botao_salvarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_botao_salvarActionPerformed
        // TODO add your handling code here:
        SalvarSangue();
}//GEN-LAST:event_botao_salvarActionPerformed

    private void botao_voltarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_botao_voltarActionPerformed
        // TODO add your handling code here:
        kernel.Tela(21,null,2,animal_id.getText(),null);
    }//GEN-LAST:event_botao_voltarActionPerformed

    private void PreencherCampos(Object obj){
        int id = Integer.parseInt((String) obj);
        bd_Sangue = new BD_Sangue(kernel);
        
        obj_Sangue = bd_Sangue.getSangueID(id);
        
        //SENTANDO AS VARIAVEIS
        animal_id.setText(String.valueOf(id));
        
        if(obj_Sangue!=null){
           campo_htmc.setText(String.valueOf(obj_Sangue.getHmtc()));     
           campo_rbc.setText(String.valueOf(obj_Sangue.getRbc()));     
           campo_vcm.setText(String.valueOf(obj_Sangue.getVcm()));     
           campo_leuco.setText(String.valueOf(obj_Sangue.getLeuco()));     
           campo_hmc.setText(String.valueOf(obj_Sangue.getHmc()));     
           campo_hmg.setText(String.valueOf(obj_Sangue.getHmg()));     
           campo_cetonas.setText(String.valueOf(obj_Sangue.getCetonas()));     
           sangue_id.setText(String.valueOf(obj_Sangue.getSangue_id()));     
        }
    }
    
    private void SalvarSangue(){
    
       obj_Sangue = new Sangue();
       obj_Animal = new Animal();
       bd_Sangue  = new BD_Sangue(kernel);
       
       //SENTANDO OS CAMPOS DO SANGUE
       obj_Sangue.setHmtc(Double.parseDouble((campo_htmc.getText().equals(""))?"0":campo_htmc.getText()));
       obj_Sangue.setRbc(Double.parseDouble((campo_rbc.getText().equals(""))?"0":campo_rbc.getText()));
       obj_Sangue.setVcm(Double.parseDouble((campo_vcm.getText().equals(""))?"0":campo_vcm.getText()));
       obj_Sangue.setLeuco(Double.parseDouble((campo_leuco.getText().equals(""))?"0":campo_leuco.getText()));
       obj_Sangue.setHmc(Double.parseDouble((campo_hmc.getText().equals(""))?"0":campo_hmc.getText()));
       obj_Sangue.setHmg(Double.parseDouble((campo_hmg.getText().equals(""))?"0":campo_hmg.getText()));
       obj_Sangue.setCetonas(Double.parseDouble((campo_cetonas.getText().equals(""))?"0":campo_cetonas.getText()));
       
       //SETANDO O ANIMAL
       obj_Animal.setAnimal_id(Integer.parseInt(animal_id.getText()));
       
       obj_Sangue.setAnimal(obj_Animal);       
       
       //SALVANDO
       if(sangue_id.getText().equals("0")){    
           System.out.println(" OBJETO: "+obj_Sangue.getHmtc());
            bd_Sangue.Salvar(obj_Sangue);
       }else{
            obj_Sangue.setSangue_id(Integer.parseInt((sangue_id.getText().equals("0 "))?"0":sangue_id.getText()));       
            bd_Sangue.Atualizar(obj_Sangue);
       }
       cadastro.setText("Registro salvo");
       botao_salvar.setEnabled(false);
    }
    
   
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel animal_id;
    private javax.swing.JButton botao_bioquimico;
    private javax.swing.JButton botao_contaminantes;
    private javax.swing.JButton botao_isotopos;
    private javax.swing.JButton botao_salvar;
    private javax.swing.JButton botao_voltar;
    private javax.swing.JLabel cadastro;
    private javax.swing.JTextField campo_cetonas;
    private javax.swing.JTextField campo_hmc;
    private javax.swing.JTextField campo_hmg;
    private javax.swing.JTextField campo_htmc;
    private javax.swing.JTextField campo_leuco;
    private javax.swing.JTextField campo_rbc;
    private javax.swing.JTextField campo_vcm;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel17;
    private javax.swing.JPanel painel_cadastrar_area3;
    private javax.swing.JLabel sangue_id;
    // End of variables declaration//GEN-END:variables

}
